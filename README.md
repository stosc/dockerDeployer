这是一个简单的可以部署Docker镜像的工具。在持续集成中，有些项目是比较小巧的，这个时候在docker部署的时候使用k8s的话太过于复杂和重量级。所以就开发了这个小工具，这个工具的特点是简单、小巧、使用方便。使用时在需要部署docker镜像的服务器上安装工具。然后在持续集成工具中的部署步骤调用工具提供的webapi，就可以实现docker的部署。

# 安装

``` pip install ddeployer```

# 服务使用

## 启动

```ddd start [端口号：默认为8866]```

## 停止

```ddd stop```

## 重启

```ddd restart```

# 调用API方法

## Docker信息

### 地址

```/docker/info```

### 调用方法

GET

### 参数列表

无

### 返回值

返回服务器上执行 ```docker info``` 命令的结果

## Docker登录 

### 地址

```/docker/login```

### 调用法法

POST

### 参数列表

| 参数 | 说明       |
| ---- | ---------- |
| u    | 登录用户名 |
| p    | 登录密码   |
| host | 登录服务器 |

### 返回值

| 值   | 说明     |
| ---- | -------- |
| 1    | 调用成功 |
| 0    | 调用失败 |

## Docker部署

### 地址

```/docker/deploy```

### 调用方法

POST

### 参数列表

| 参数       | 说明                     |
| ---------- | ------------------------ |
| image_name | 要部署的docker镜像名称   |
| run_name   | docker镜像运行实例的名称 |
| port       | 端口映射参数             |
| other      | 其它的docker运行参数     |

### 返回值

| 值   | 说明     |
| ---- | -------- |
| 1    | 调用成功 |
| 其它 | 错误信息 |

## 